<!DOCTYPE html>
<html xmlns:th="https://thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<title>Post Genesis</title>
	<div th:replace="fragments/header :: header"></div>
</head>
<body>

<form action="#" th:action="@{/newPost}"  method="post" enctype="multipart/form-data">
  <label for="title">Title</label>
  <input type="text" field="*{title}" name="title" id="title" placeholder="Title">
  <div>
		<label for="text">Text</label>
		<input
			type="text"
			field="*{text}"
			name="text"
			id="text"
			placeholder="Whats on your mind">
		
  	<label for="image">Image</label>
  	<input
			type="file"
			field="*{image}"
			name="image"
			id="image"
			accept="image/*">
		
		<label for="audio">Audio file</label>
	  <input
			  type="text"
			  field="*{recording}"
			  value="recording"
			  onchange="test(this)"
			  name="recording"
			  id="recording"
			  hidden>
	  <input type="button" onclick="recordAudio(this, 'recording')" value="Record">
	  <div th:replace="fragments/recorderScript :: recorderScript"></div>
	  <input
			  type="file"
			  onchange="play(this)"
			  value="*{audio}"
			  name="audio"
			  id="audio"
			  accept="audio/*"
			  capture>
	  <div th:replace="fragments/playerScript :: playerScript"></div>
	  <audio id="player" controls></audio>
  </div>
  
  <input type="submit" value="Create new post">
</form>

</body>
</html>